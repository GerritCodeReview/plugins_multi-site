{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "77d42aaf_fbd996a1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-02-13T09:48:36Z",
      "side": 1,
      "message": "Why not doing the reindexing in the pull-replication? We are already doing it for changes.",
      "revId": "cba26aec61a0179c687e234b32ad25073727e0fe",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8ce1122_dd627c60",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/router/IndexEventRouter.java",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-02-13T09:48:36Z",
      "side": 1,
      "message": "Shouldn\u0027t we trigger this on `fetch-ref-replication-done`?",
      "range": {
        "startLine": 109,
        "startChar": 37,
        "endLine": 109,
        "endChar": 57
      },
      "revId": "cba26aec61a0179c687e234b32ad25073727e0fe",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2b06180a_2f44e8ff",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/router/IndexEventRouter.java",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-02-14T22:14:09Z",
      "side": 1,
      "message": "I believe this is enough for *this* node: the ref has been replicated on this instance-id. However, it would be safer to add the `fetch-ref-replication-done` as well, even if I struggle to understand what\u0027s the difference between the two when using pull-replication.",
      "parentUuid": "e8ce1122_dd627c60",
      "range": {
        "startLine": 109,
        "startChar": 37,
        "endLine": 109,
        "endChar": 57
      },
      "revId": "cba26aec61a0179c687e234b32ad25073727e0fe",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb761f1e_0c55df94",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/router/IndexEventRouter.java",
        "patchSetId": 3
      },
      "lineNbr": 112,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-02-13T09:48:36Z",
      "side": 1,
      "message": "It seems like `onRefReplicated` only handles indexing of events for `All-Users`. This will fix the issue with the accounts not being indexed, however I was wondering why we are not doing it for all the repos.",
      "range": {
        "startLine": 112,
        "startChar": 8,
        "endLine": 112,
        "endChar": 23
      },
      "revId": "cba26aec61a0179c687e234b32ad25073727e0fe",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a05184c_94e6e147",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/router/IndexEventRouter.java",
        "patchSetId": 3
      },
      "lineNbr": 112,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-02-14T22:14:09Z",
      "side": 1,
      "message": "All NoteDb related ref-updates with indexing associated can be potentially broken. This change addresses only the accounts, but yes, other entities may be impacted.",
      "parentUuid": "fb761f1e_0c55df94",
      "range": {
        "startLine": 112,
        "startChar": 8,
        "endLine": 112,
        "endChar": 23
      },
      "revId": "cba26aec61a0179c687e234b32ad25073727e0fe",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}