{
  "comments": [
    {
      "key": {
        "uuid": "82961af5_591e918c",
        "filename": "BUILD",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-07-08T06:46:39Z",
      "side": 1,
      "message": "Can you add the reference to in the WORKSPACE file, so that standalone build will continue to work?",
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d5949a1_dd4ded94",
        "filename": "BUILD",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2019-07-08T18:21:17Z",
      "side": 1,
      "message": "I\u0027m not sure if I understand correctly. Do we have standalone build for multi-site plugin? Currently I going to get exception when I will go to multi-site directory and call bazel build multi-site. In the documentation setup section says that we have to link multi-site to gerrit/plugins/ and than bazel build plugins/multi-site works. That\u0027s why I thought that because we always have to build together with gerrit it\u0027s fine to add //plugins/replication",
      "parentUuid": "82961af5_591e918c",
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8520093_3fadd05f",
        "filename": "BUILD",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-08-10T02:00:41Z",
      "side": 1,
      "message": "Let\u0027s leave it for now: the standalone build would be very difficult when you have the replication plugin as a dependency.",
      "parentUuid": "4d5949a1_dd4ded94",
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d39c8b9b_18536b8d",
        "filename": "setup_local_env/setup.sh",
        "patchSetId": 6
      },
      "lineNbr": 370,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-07-08T06:46:39Z",
      "side": 1,
      "message": "No need to make a copy, you can simply link it.",
      "range": {
        "startLine": 367,
        "startChar": 0,
        "endLine": 370,
        "endChar": 0
      },
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa5f5562_46ff8e1a",
        "filename": "setup_local_env/setup.sh",
        "patchSetId": 6
      },
      "lineNbr": 370,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2019-07-08T18:21:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d39c8b9b_18536b8d",
      "range": {
        "startLine": 367,
        "startChar": 0,
        "endLine": 370,
        "endChar": 0
      },
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2b0dc4d7_92fc6bec",
        "filename": "setup_local_env/setup.sh",
        "patchSetId": 6
      },
      "lineNbr": 378,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-07-08T06:46:39Z",
      "side": 1,
      "message": "This is caused by your Noop implementation, just remove it altogether.",
      "range": {
        "startLine": 376,
        "startChar": 0,
        "endLine": 378,
        "endChar": 119
      },
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf79d038_e2465bf6",
        "filename": "setup_local_env/setup.sh",
        "patchSetId": 6
      },
      "lineNbr": 378,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2019-07-08T18:21:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2b0dc4d7_92fc6bec",
      "range": {
        "startLine": 376,
        "startChar": 0,
        "endLine": 378,
        "endChar": 119
      },
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b0a56c8_fedbcbd6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultisiteBeforeReplicationPushFilter.java",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-07-08T06:46:39Z",
      "side": 1,
      "message": "This method looks to me too long and complicated. We do already have that logic implemented, why do we need to re-write it? Why not just reusing it?",
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ea76345_d38ccaa4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultisiteBeforeReplicationPushFilter.java",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2019-07-08T20:02:26Z",
      "side": 1,
      "message": "I was thinking the same but than I had a closer look at the code and the only common part with RefUpdateValidator is that we are calling isUpToDate method.There is also some extra logic which we don\u0027t have in RefUpdateValidator. To be honest I thought that this code was already reviewed because it\u0027s coming from the previous approach. In the newest patch set I\u0027ve clean up the code a bit to make it more readable. @Tiago could you please confirm that we still need all that logic?",
      "parentUuid": "7b0a56c8_fedbcbd6",
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11ee033d_43abbac6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultisiteBeforeReplicationPushFilter.java",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-08-10T02:00:41Z",
      "side": 1,
      "message": "I\u0027ve reduced to its minimum terms, now it is more readable and makes a lot more sense to me :-) Can you double-check?",
      "parentUuid": "0ea76345_d38ccaa4",
      "revId": "b9314160a353103fe25fe4485212840b478476fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}