{
  "comments": [
    {
      "key": {
        "uuid": "2656b038_ba7ff16f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 9,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T14:14:33Z",
      "side": 1,
      "message": "This seems to contradict the headline: are we performing the update on the shared refdb and then rolling it back, or we just wait to see the final result of the ref-update before storing the ref to the shared refdb?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 32
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8a61823_1f2823a6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 9,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T14:20:45Z",
      "side": 1,
      "message": "You\u0027re right. We are actually just not writing in ZK in case of failure.\nWill change the headline",
      "parentUuid": "2656b038_ba7ff16f",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 32
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7b87725_a943b093",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 9,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T20:30:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8a61823_1f2823a6",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 32
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "27905b6b_5aeab388",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/Configuration.java",
        "patchSetId": 13
      },
      "lineNbr": 200,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T14:14:33Z",
      "side": 1,
      "message": "It\u0027s fine for this change, however, the overall logic of using default values when the configuration is syntactically wrong is massively flawed :-(\n\nWe *should not* work if the configuration file is incorrect syntactically.\n\nThis needs to be addressed in a follow-up change.",
      "range": {
        "startLine": 194,
        "startChar": 0,
        "endLine": 200,
        "endChar": 5
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8257ba1d_0f5007b4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/Configuration.java",
        "patchSetId": 13
      },
      "lineNbr": 200,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T14:20:45Z",
      "side": 1,
      "message": "Agree, otherwise, we give the false impression the application is running with the configuration values when actually it defaults to a different value.\n\nFor now, I\u0027ve simply copied the previous existing logic.",
      "parentUuid": "27905b6b_5aeab388",
      "range": {
        "startLine": 194,
        "startChar": 0,
        "endLine": 200,
        "endChar": 5
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d08d67cd_85e87b17",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/Configuration.java",
        "patchSetId": 13
      },
      "lineNbr": 200,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8257ba1d_0f5007b4",
      "range": {
        "startLine": 194,
        "startChar": 0,
        "endLine": 200,
        "endChar": 5
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0db01c42_5a7ca7f7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 56,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "nit: empty line",
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba811c6b_b8c91e97",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 56,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0db01c42_5a7ca7f7",
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61880ca7_457e0b13",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 82,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Can we really have a null ref? Or just a NULL_REF?",
      "range": {
        "startLine": 82,
        "startChar": 10,
        "endLine": 82,
        "endChar": 24
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c42c2986_1ecebad7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 82,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Yes, some of the unit tests generate null oldRef and for that reason were failing. \nThis caters for all the  scenarios",
      "parentUuid": "61880ca7_457e0b13",
      "range": {
        "startLine": 82,
        "startChar": 10,
        "endLine": 82,
        "endChar": 24
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "195c0534_b1cb7ffa",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 82,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c42c2986_1ecebad7",
      "range": {
        "startLine": 82,
        "startChar": 10,
        "endLine": 82,
        "endChar": 24
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89becf2a_aa37ca73",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 233,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This method name is incorrect: this does actually three things:\n1. Check for local vs. shared ref-db alignment\n2. Execution of the batch-update\n3. Update of the shared ref-db",
      "range": {
        "startLine": 233,
        "startChar": 15,
        "endLine": 233,
        "endChar": 32
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9df9a344_e5f758df",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 233,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Agree. validateBatchRefUpdateAndApply?",
      "parentUuid": "89becf2a_aa37ca73",
      "range": {
        "startLine": 233,
        "startChar": 15,
        "endLine": 233,
        "endChar": 32
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddb5dc26_49ecc7a6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 233,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9df9a344_e5f758df",
      "range": {
        "startLine": 233,
        "startChar": 15,
        "endLine": 233,
        "endChar": 32
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b327e39e_4c3783e6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 260,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This isn\u0027t necessarily true: you may have succeded with the batchUpdate and failed with the updateSharedDBForSuccessfulCommands.",
      "range": {
        "startLine": 260,
        "startChar": 6,
        "endLine": 260,
        "endChar": 77
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bcadbca_100929f3",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 260,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b327e39e_4c3783e6",
      "range": {
        "startLine": 260,
        "startChar": 6,
        "endLine": 260,
        "endChar": 77
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6fd1be8e_fa9e6199",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 275,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This is wrong: we should not get the oldRef from the command but rather from the local refdb.\n\nExample: I am doing a forced-update, then the oldRef *is not* the one I have locally but I should process it anyway. It should be blocked *ONLY* if the local ref doesn\u0027t correspond to the shared ref.",
      "range": {
        "startLine": 275,
        "startChar": 30,
        "endLine": 275,
        "endChar": 82
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81439562_ee473945",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 275,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "I don\u0027t think we can rely on the local refdb at this point because it\u0027s after the batchUpdate.execute(). \nIf the batch is successful, the refDb.getRef(...) has moved on to the new objectId. Will try to reproduce your scenario",
      "parentUuid": "6fd1be8e_fa9e6199",
      "range": {
        "startLine": 275,
        "startChar": 30,
        "endLine": 275,
        "endChar": 82
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c499add_299222ee",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 281,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "In a batchUpdate should all be successful or all failed, isn\u0027t it? What is the condition where we do half/half?\n\nThe oldRef also is wrong: it should be the value of the ref in the local ref-db and NOT the one in the command.",
      "range": {
        "startLine": 279,
        "startChar": 0,
        "endLine": 281,
        "endChar": 5
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5bfdba9_07593ecb",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 281,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "The batchUpdate it either fails or succeeds all the commands (this is shown in one of the tests in this change). \nThis part just makes sure that we filter out all the commands if the batch fails",
      "parentUuid": "4c499add_299222ee",
      "range": {
        "startLine": 279,
        "startChar": 0,
        "endLine": 281,
        "endChar": 5
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e4c3362_f632b8f3",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 291,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "The RefPair has already a method to get the name of the not-null ref: why don\u0027t you just get that one?",
      "range": {
        "startLine": 287,
        "startChar": 0,
        "endLine": 291,
        "endChar": 31
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7b98972_07113ca6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 291,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "That\u0027s because we need a nonNullRef, not just the name",
      "parentUuid": "9e4c3362_f632b8f3",
      "range": {
        "startLine": 287,
        "startChar": 0,
        "endLine": 291,
        "endChar": 31
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fd13d4b_da826722",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 293,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Is this relevant? If yes, why don\u0027t we use the same path of the project/ref? If not, why do we bother talking about it?",
      "range": {
        "startLine": 293,
        "startChar": 6,
        "endLine": 293,
        "endChar": 91
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "525122b7_ca2cf08c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 293,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1fd13d4b_da826722",
      "range": {
        "startLine": 293,
        "startChar": 6,
        "endLine": 293,
        "endChar": 91
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e39fa1a_32f15ed6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 299,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "isInSync",
      "range": {
        "startLine": 299,
        "startChar": 14,
        "endLine": 299,
        "endChar": 23
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92367c02_b19377a3",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 299,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e39fa1a_32f15ed6",
      "range": {
        "startLine": 299,
        "startChar": 14,
        "endLine": 299,
        "endChar": 23
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55555271_3c35955d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 312,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Can we make it more specific as an exception?\nWhat about the locks? Should we release them?",
      "range": {
        "startLine": 312,
        "startChar": 18,
        "endLine": 312,
        "endChar": 27
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6101d1de_5222fa7b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 312,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "We are releasing them in the \u0027try (CloseableSet\u003cAutoCloseable\u003e locks \u003d new CloseableSet())\u0027 that wraps _assertBatchCommandsAreInSync_\n\nSince the main logic here is that we\u0027re looking up for a reference in the sharedRefDb, I\u0027m changing it to `NoSuchElementException` when we cannot find it",
      "parentUuid": "55555271_3c35955d",
      "range": {
        "startLine": 312,
        "startChar": 18,
        "endLine": 312,
        "endChar": 27
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d0b1400_e88d562b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 352,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This is an incorrect use of the exception logging: you should use the flogger withCause(e)",
      "range": {
        "startLine": 352,
        "startChar": 14,
        "endLine": 352,
        "endChar": 28
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56a73ec9_2c75f242",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 352,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d0b1400_e88d562b",
      "range": {
        "startLine": 352,
        "startChar": 14,
        "endLine": 352,
        "endChar": 28
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "02dc8d13_09f00889",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 374,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Do we really to use a supplier and then calling directly? Why don\u0027t you just get the result T?",
      "range": {
        "startLine": 374,
        "startChar": 20,
        "endLine": 374,
        "endChar": 75
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42f8bad8_2ed4d45f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 374,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Not sure I understood. \nThe resourceFactory is lazy evaluated, just creates the lock in case the key is not present.",
      "parentUuid": "02dc8d13_09f00889",
      "range": {
        "startLine": 374,
        "startChar": 20,
        "endLine": 374,
        "endChar": 75
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "634ddd1f_867d6b25",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 397,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Why do we need this?",
      "range": {
        "startLine": 395,
        "startChar": 0,
        "endLine": 397,
        "endChar": 3
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6865186e_7cdfed1a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteBatchRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 397,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Mainly to handle the Exception that the function sharedRefDb.lockRef() throws when we pass it in addResourceIfNotExist()",
      "parentUuid": "634ddd1f_867d6b25",
      "range": {
        "startLine": 395,
        "startChar": 0,
        "endLine": 397,
        "endChar": 3
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ee69b99_2fb6eeff",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 69,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "extract to a self-explaining method, so that you don\u0027t have to spend a lot of time commenting below.",
      "range": {
        "startLine": 68,
        "startChar": 8,
        "endLine": 69,
        "endChar": 74
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22a438cf_83a0d791",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 69,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1ee69b99_2fb6eeff",
      "range": {
        "startLine": 68,
        "startChar": 8,
        "endLine": 69,
        "endChar": 74
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0526e54_f64c1007",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Create",
      "range": {
        "startLine": 75,
        "startChar": 27,
        "endLine": 75,
        "endChar": 34
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bb9872e_efe6d2c1",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0526e54_f64c1007",
      "range": {
        "startLine": 75,
        "startChar": 27,
        "endLine": 75,
        "endChar": 34
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef30f87_f2b6348a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 78,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "else isn\u0027t needed.",
      "range": {
        "startLine": 78,
        "startChar": 6,
        "endLine": 78,
        "endChar": 12
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e1b403d_883dc028",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 78,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2ef30f87_f2b6348a",
      "range": {
        "startLine": 78,
        "startChar": 6,
        "endLine": 78,
        "endChar": 12
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "09a35cff_53f59da7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 159,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This block is 90% identical to the one at L176: is there a way for reducing it to a common factor?",
      "range": {
        "startLine": 153,
        "startChar": 0,
        "endLine": 159,
        "endChar": 3
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fd71f4b_a4f9b055",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 159,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09a35cff_53f59da7",
      "range": {
        "startLine": 153,
        "startChar": 0,
        "endLine": 159,
        "endChar": 3
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ccdc528a_1a9a1cf5",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 171,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Can this be shared with the BatchRefUpdate use-case?",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 171,
        "endChar": 5
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0814d37_1d971f7d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 171,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "This one cannot be reused because the BatchRefUpdate uses a command Result which is different from the RefUpdate Result",
      "parentUuid": "ccdc528a_1a9a1cf5",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 171,
        "endChar": 5
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33d5bc79_2ad4b7fd",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 208,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This is wrong: we can end up here for four reasons:\n1. We to check the shared ref-db\n2. We failed to lock\n3. We failed to execute the ref-update\n4. We failed to update the shared ref-db\n\nWhat about if we failed at point 4. ? We have a local ref-db not aligned with the shared ref-db. What\u0027s the strategy then?",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 208,
        "endChar": 59
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be86616e_05781471",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 13
      },
      "lineNbr": 208,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T09:25:06Z",
      "side": 1,
      "message": "We have split the code, but we should then add in a different Change extra logging to be able to monitor the split-brain.",
      "parentUuid": "33d5bc79_2ad4b7fd",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 208,
        "endChar": 59
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a461422e_06fababa",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/SharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 22,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Are we really looking for a RefDatabase of locks? The usage of generics looks odd here.",
      "range": {
        "startLine": 22,
        "startChar": 34,
        "endLine": 22,
        "endChar": 70
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f87241e_50b419a9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/SharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 22,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a461422e_06fababa",
      "range": {
        "startLine": 22,
        "startChar": 34,
        "endLine": 22,
        "endChar": 70
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e87be65_8f9c26f9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/SharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 129,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Just return an auto-closeable here instead of a SharedDbLock",
      "range": {
        "startLine": 129,
        "startChar": 2,
        "endLine": 129,
        "endChar": 69
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c38c522b_1971fc23",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/SharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 129,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6e87be65_8f9c26f9",
      "range": {
        "startLine": 129,
        "startChar": 2,
        "endLine": 129,
        "endChar": 69
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1ae78cd_b350c46f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/SharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 150,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "exists?",
      "range": {
        "startLine": 150,
        "startChar": 10,
        "endLine": 150,
        "endChar": 19
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c290ff99_a0c59fd5",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/SharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 150,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T19:59:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1ae78cd_b350c46f",
      "range": {
        "startLine": 150,
        "startChar": 10,
        "endLine": 150,
        "endChar": 19
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1248788b_f3f2c724",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 57,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T14:20:55Z",
      "side": 1,
      "message": "Migration mode doesn\u0027t exist anymore: why should we include the wording in this message? Is this really a warning or a normal situation?",
      "range": {
        "startLine": 57,
        "startChar": 17,
        "endLine": 57,
        "endChar": 34
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67eef4af_d55a0223",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 57,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T20:30:30Z",
      "side": 1,
      "message": "The warning is just saying that it would expect to see that ref in ZK but it\u0027s not there yet because ZK is in a migration phase and being aligned with existing Gerrit Refs.\nI think the normal situation is when ZK refs are aligned with old Gerrit Refs. \n\nMaybe instead of \u0027migration mode\u0027, I can instead call it \u0027startup phase\u0027, what do you think?",
      "parentUuid": "1248788b_f3f2c724",
      "range": {
        "startLine": 57,
        "startChar": 17,
        "endLine": 57,
        "endChar": 34
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ad884f5_4bc8e26c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 57,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "67eef4af_d55a0223",
      "range": {
        "startLine": 57,
        "startChar": 17,
        "endLine": 57,
        "endChar": 34
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "959333b4_a9075834",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkValidationModule.java",
        "patchSetId": 13
      },
      "lineNbr": 38,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Just get rid of the odd use of generics, and this will be highly simplified to a regular binding.",
      "range": {
        "startLine": 38,
        "startChar": 9,
        "endLine": 38,
        "endChar": 73
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c747f570_f7a2acc5",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkValidationModule.java",
        "patchSetId": 13
      },
      "lineNbr": 38,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "959333b4_a9075834",
      "range": {
        "startLine": 38,
        "startChar": 9,
        "endLine": 38,
        "endChar": 73
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e35d42a_58a12404",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkValidationModule.java",
        "patchSetId": 13
      },
      "lineNbr": 47,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Do we really want to have an annotated binding for every configuration parameter? What\u0027s the benefit?",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 47,
        "endChar": 76
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6209041f_fa55a705",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkValidationModule.java",
        "patchSetId": 13
      },
      "lineNbr": 47,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Created a value class ZkConnectionConfig",
      "parentUuid": "7e35d42a_58a12404",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 47,
        "endChar": 76
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7507aa4c_d2a1fe57",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdateTest.java",
        "patchSetId": 13
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Do we really need those comments? the Mockito doReturn(true/false) already tell if the validation was successful or not.",
      "range": {
        "startLine": 101,
        "startChar": 4,
        "endLine": 101,
        "endChar": 31
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4884be23_953b468c",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdateTest.java",
        "patchSetId": 13
      },
      "lineNbr": 101,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7507aa4c_d2a1fe57",
      "range": {
        "startLine": 101,
        "startChar": 4,
        "endLine": 101,
        "endChar": 31
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68d9e9f5_b499a04a",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdateTest.java",
        "patchSetId": 13
      },
      "lineNbr": 101,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7507aa4c_d2a1fe57",
      "range": {
        "startLine": 101,
        "startChar": 4,
        "endLine": 101,
        "endChar": 31
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "acd1d5a4_98c3ff07",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/RefSharedDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 34,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "We are not really using any curator-specific features in this test. Why is this needed?",
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22aa2bfc_2126541f",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/RefSharedDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 34,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "acd1d5a4_98c3ff07",
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "01ab3846_5c97248a",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/RefFixture.java",
        "patchSetId": 13
      },
      "lineNbr": 63,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This interface is a collection of test data: what this RefUpdateStub has to do here?",
      "range": {
        "startLine": 63,
        "startChar": 2,
        "endLine": 63,
        "endChar": 53
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17b5eae7_febfbb8f",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/RefFixture.java",
        "patchSetId": 13
      },
      "lineNbr": 63,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "01ab3846_5c97248a",
      "range": {
        "startLine": 63,
        "startChar": 2,
        "endLine": 63,
        "endChar": 53
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c5f9355_6a0e4f7b",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This is a unit-test, not end-to-end. Why do you need a full Gerrit daemon for that?",
      "range": {
        "startLine": 51,
        "startChar": 37,
        "endLine": 51,
        "endChar": 63
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d38b9c18_eb3f8315",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Done, moved the tests I consider to be integration tests to a different IT class and removed Gerrit daemon",
      "parentUuid": "6c5f9355_6a0e4f7b",
      "range": {
        "startLine": 51,
        "startChar": 37,
        "endLine": 51,
        "endChar": 63
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6555e633_cc3c7e6e",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 61,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "Avoid hardcoded values in tests: use constants with meaningful names.",
      "range": {
        "startLine": 61,
        "startChar": 65,
        "endLine": 61,
        "endChar": 94
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01f1f138_b2788473",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 61,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6555e633_cc3c7e6e",
      "range": {
        "startLine": 61,
        "startChar": 65,
        "endLine": 61,
        "endChar": 94
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "daf3c179_23c039b3",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 235,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "If this is a full end-to-end test, then it should be in a separate IT class.\nThose are not unit-test of the ZkSharedRefDatabase and thus do not even belong to this class.",
      "range": {
        "startLine": 235,
        "startChar": 14,
        "endLine": 235,
        "endChar": 67
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61bde737_8fd46f9f",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 235,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T07:30:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "daf3c179_23c039b3",
      "range": {
        "startLine": 235,
        "startChar": 14,
        "endLine": 235,
        "endChar": 67
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40195066_cc1851a6",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 265,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "You are testing three separate use-cases: do three tests. One test should validate a single use-case.",
      "range": {
        "startLine": 252,
        "startChar": 0,
        "endLine": 265,
        "endChar": 91
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1895b23_a3fcce6d",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 265,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T20:30:30Z",
      "side": 1,
      "message": "This test was initially created to reproduce the ZK rollback problem.\n\nThe change in the middle called \"batchTwo\" is rejected by GIT with a Result \u0027REJECTED_NONFASTFORWARD\u0027 and the third batch is supposed to succeed and not fail because batchTwo left the wrong reference in ZK.",
      "parentUuid": "40195066_cc1851a6",
      "range": {
        "startLine": 252,
        "startChar": 0,
        "endLine": 265,
        "endChar": 91
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5929bbbe_50d759c9",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 265,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-24T15:26:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1895b23_a3fcce6d",
      "range": {
        "startLine": 252,
        "startChar": 0,
        "endLine": 265,
        "endChar": 91
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf7c51a1_f44bbf40",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 308,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-04-23T15:36:43Z",
      "side": 1,
      "message": "This is repeated multiple times in the test: can you DRY it out?",
      "range": {
        "startLine": 305,
        "startChar": 0,
        "endLine": 308,
        "endChar": 25
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c167184d_39250dc8",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java",
        "patchSetId": 13
      },
      "lineNbr": 308,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-04-23T20:30:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bf7c51a1_f44bbf40",
      "range": {
        "startLine": 305,
        "startChar": 0,
        "endLine": 308,
        "endChar": 25
      },
      "revId": "9a1afdbfba0a6390b20781428ca7980c99831944",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}