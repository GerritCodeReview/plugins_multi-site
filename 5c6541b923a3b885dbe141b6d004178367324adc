{
  "comments": [
    {
      "key": {
        "uuid": "52db972e_ec07fb25",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 5
      },
      "lineNbr": 114,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-01-15T13:08:07Z",
      "side": 1,
      "message": "This is the first attempt to \"force\" all the updates to be BatchRefUpdate...It is still a draft but it shows you the direction I am trying to take.\n\nCan you think of any better way of doing it?",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 114,
        "endChar": 5
      },
      "revId": "5c6541b923a3b885dbe141b6d004178367324adc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "faebdb7f_0467108e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 5
      },
      "lineNbr": 114,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-01-17T20:13:34Z",
      "side": 1,
      "message": "I had a look how replication plugin is receiving refs to update and I have notice that we have GitReferenceUpdatedListener interface, you can register your implementation to receive all ref updates and store newest one. With this approach you don\u0027t have to amend any commands. Maybe it\u0027s worth to explore. WDYT?",
      "parentUuid": "52db972e_ec07fb25",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 114,
        "endChar": 5
      },
      "revId": "5c6541b923a3b885dbe141b6d004178367324adc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25c39ea6_a7675b02",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/validation/MultiSiteRefUpdate.java",
        "patchSetId": 5
      },
      "lineNbr": 114,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-01-20T08:55:14Z",
      "side": 1,
      "message": "Mmm..not sure it will work since the update of the ref and the version need to be transactional. `onGitReferenceUpdated` is only triggered when the ref update as already happened as fare as I can tell.",
      "parentUuid": "faebdb7f_0467108e",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 114,
        "endChar": 5
      },
      "revId": "5c6541b923a3b885dbe141b6d004178367324adc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}