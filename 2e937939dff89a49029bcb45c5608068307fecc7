{
  "comments": [
    {
      "key": {
        "uuid": "4f087702_43dcb373",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-02-28T07:03:59Z",
      "side": 1,
      "message": "initial",
      "range": {
        "startLine": 10,
        "startChar": 14,
        "endLine": 10,
        "endChar": 20
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ba5ad2a_4c80bbd6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-02-28T07:29:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f087702_43dcb373",
      "range": {
        "startLine": 10,
        "startChar": 14,
        "endLine": 10,
        "endChar": 20
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df98acb8_b97a4399",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2019-02-27T18:20:02Z",
      "side": 1,
      "message": "Is this a requirement? Coulden\u0027t it be that you have 2 masters but have to do manual work to move it over (ie update the ip address for the domain)?",
      "range": {
        "startLine": 12,
        "startChar": 2,
        "endLine": 12,
        "endChar": 51
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0610e39_7559e6ed",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-02-27T20:45:07Z",
      "side": 1,
      "message": "All the masters are active, it isn\u0027t an active/passive configuration. You need \"someone\" that knows where to route the reads and the writes. In the current design that is HAProxy (or other similar WLB that can do URL-based routing)\n\nAt this multi-site stage implementation (see DESIGN.md) we are running only one doing R/W traffic while all the others are RO.\n\nIn the next step, they will be al R/W.",
      "parentUuid": "df98acb8_b97a4399",
      "range": {
        "startLine": 12,
        "startChar": 2,
        "endLine": 12,
        "endChar": 51
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bf80e9d_d8850c51",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2019-02-27T20:54:20Z",
      "side": 1,
      "message": "Oh, so it\u0027s not possible to have one host exposed? ie for example at the wmf that\u0027s cobalt (and then have gerrit2001) as the second master (without any traffic). Then to fallover to gerrit2001 without HA.",
      "parentUuid": "d0610e39_7559e6ed",
      "range": {
        "startLine": 12,
        "startChar": 2,
        "endLine": 12,
        "endChar": 51
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acc11db2_a324fe86",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-02-27T21:02:03Z",
      "side": 1,
      "message": "\u003e Oh, so it\u0027s not possible to have one host exposed? ie for example at the wmf that\u0027s cobalt (and then have gerrit2001) as the second master (without any traffic). Then to fallover to gerrit2001 without HA.\n\nYes, you can do that also. The multi-site plugin would have the benefit to have the second failover node always \"ready\" to take over in case of any problems.\n\nAt GerritHub.io, we do use the other nodes also, even if they are not serving write traffic. The write traffic redirection to them is automatic.\n\nP.S. Bear in mind that problems with the \"write node\" could be even just transient. Example: there is a problem on v2.16 where during the JGit GC of the All-Users.git repo, logins could be disrupted because of a temporary disruption on the in-memory packlist. The \"automatic failover\" of the write traffic provided by HAProxy reduces the impact of the disruption to zero :-) and nobody has to do any manual operation.\n\nHAProxy isn\u0027t mandatory if you are planning to \"manually\" failover to the other node.",
      "parentUuid": "5bf80e9d_d8850c51",
      "range": {
        "startLine": 12,
        "startChar": 2,
        "endLine": 12,
        "endChar": 51
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5901d6d2_f5ec2d22",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2019-02-27T21:08:28Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "acc11db2_a324fe86",
      "range": {
        "startLine": 12,
        "startChar": 2,
        "endLine": 12,
        "endChar": 51
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d52e208_8b9dd0ef",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-02-28T07:03:59Z",
      "side": 1,
      "message": "The.",
      "range": {
        "startLine": 18,
        "startChar": 22,
        "endLine": 18,
        "endChar": 26
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec7db67d_51d6d330",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-02-28T07:29:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d52e208_8b9dd0ef",
      "range": {
        "startLine": 18,
        "startChar": 22,
        "endLine": 18,
        "endChar": 26
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3084fa4e_fc2fba1a",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-02-28T07:03:59Z",
      "side": 1,
      "message": "built",
      "range": {
        "startLine": 31,
        "startChar": 25,
        "endLine": 31,
        "endChar": 30
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "770ebe15_ec154fec",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-02-28T07:29:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3084fa4e_fc2fba1a",
      "range": {
        "startLine": 31,
        "startChar": 25,
        "endLine": 31,
        "endChar": 30
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea16dd26_37685534",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-02-28T07:03:59Z",
      "side": 1,
      "message": "Optional: Use a variable, like \u003ckafka-port\u003e.",
      "range": {
        "startLine": 77,
        "startChar": 41,
        "endLine": 77,
        "endChar": 45
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bc1ff6a_a0a8a9e3",
        "filename": "README.md",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-02-28T07:29:53Z",
      "side": 1,
      "message": "We should then do the same with the kafka-host.",
      "parentUuid": "ea16dd26_37685534",
      "range": {
        "startLine": 77,
        "startChar": 41,
        "endLine": 77,
        "endChar": 45
      },
      "revId": "2e937939dff89a49029bcb45c5608068307fecc7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}