{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "68a6ca2b_31bdb44a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-02T13:51:05Z",
      "side": 1,
      "message": "nit: How about lengthening this sentence to explain why:\n\n...because the message instanceId can always be compared against the node instanceId and simply dropped in case they are equal.",
      "range": {
        "startLine": 11,
        "startChar": 52,
        "endLine": 11,
        "endChar": 53
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7ded1b8_b7974383",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-02T13:51:05Z",
      "side": 1,
      "message": "Why just \"most cases\"? isn\u0027t this in all cases?",
      "range": {
        "startLine": 11,
        "startChar": 20,
        "endLine": 11,
        "endChar": 30
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "271c5c6d_a61d38da",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-07-06T06:42:25Z",
      "side": 1,
      "message": "Nope, for example for reindexing we still need to keep it because we need to change gerrit core in a separate change to be able to do it",
      "parentUuid": "b7ded1b8_b7974383",
      "range": {
        "startLine": 11,
        "startChar": 20,
        "endLine": 11,
        "endChar": 30
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f6b151d_602db14f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-07T13:11:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68a6ca2b_31bdb44a",
      "range": {
        "startLine": 11,
        "startChar": 52,
        "endLine": 11,
        "endChar": 53
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58131b81_22467ff2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-07T13:11:01Z",
      "side": 1,
      "message": "I understand, thanks.\nI think it would be useful to mention in the commit message for what specific events instanceId is used, because when reading:\n\n\"Use Event.instanceId instead of forwarded event tagging with ThreadLocal\"\n\nLooks like it is the new generally used approach, rather than specific to some message types only.",
      "parentUuid": "271c5c6d_a61d38da",
      "range": {
        "startLine": 11,
        "startChar": 20,
        "endLine": 11,
        "endChar": 30
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf219049_9e929c97",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-09T07:50:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "58131b81_22467ff2",
      "range": {
        "startLine": 11,
        "startChar": 20,
        "endLine": 11,
        "endChar": 30
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66594019_844338c8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-06-26T00:06:21Z",
      "side": 1,
      "message": "Should this belong to master? It isn\u0027t necessarily needed on stable-3.4 and the full implementation may likely need some Gerrit core changes.",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4de945f_8be15d7e",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/broker/BrokerApiWrapperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-02T13:51:05Z",
      "side": 1,
      "message": "nit: could be final",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f73074de_a3180b74",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/broker/BrokerApiWrapperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-07-06T06:42:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d4de945f_8be15d7e",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fc2080f_61ea7968",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/broker/BrokerApiWrapperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-02T13:51:05Z",
      "side": 1,
      "message": "nit: unrelated",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef303e5f_07444c18",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/broker/BrokerApiWrapperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-07-06T06:42:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fc2080f_61ea7968",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "942952c0_42204de2",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/event/EventHandlerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-02T13:51:05Z",
      "side": 1,
      "message": "nit: final",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a01e9754_8e129b78",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/event/EventHandlerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-07-06T06:42:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "942952c0_42204de2",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1f2f998_da1965a2",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/ProjectVersionRefUpdateTest.java",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-02T13:51:05Z",
      "side": 1,
      "message": "nit: final?",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f5b0b37_bd8a41b5",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/ProjectVersionRefUpdateTest.java",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-07-06T06:42:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1f2f998_da1965a2",
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95d7406d_8074454a",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/ProjectVersionRefUpdateTest.java",
        "patchSetId": 1
      },
      "lineNbr": 271,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-02T13:51:05Z",
      "side": 1,
      "message": "Is this right?\nThe message has instanceId \u003d\u003d instance-id-2 and gerrit has instanceId \u003d\u003d DEFAULT_INSTANCE_ID.\n\nIn this context the message is *not* forwarded right? shouldn\u0027t then the message being processed rather than discarded?",
      "range": {
        "startLine": 263,
        "startChar": 2,
        "endLine": 271,
        "endChar": 32
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e202a05c_731513c4",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/ProjectVersionRefUpdateTest.java",
        "patchSetId": 1
      },
      "lineNbr": 271,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-07-06T06:42:25Z",
      "side": 1,
      "message": "It is forwarded, because DEFAULT_INSTANCE_ID !\u003d instance-id-2 this means that event wasn\u0027t produced by current instance so it is a forwarded event",
      "parentUuid": "95d7406d_8074454a",
      "range": {
        "startLine": 263,
        "startChar": 2,
        "endLine": 271,
        "endChar": 32
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62dc250f_c4c664f4",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/validation/ProjectVersionRefUpdateTest.java",
        "patchSetId": 1
      },
      "lineNbr": 271,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-07T13:11:01Z",
      "side": 1,
      "message": "you\u0027re right I phrased my comment in a bad way.\nWhat I meant was: \"shouldn\u0027t the message being processed\" since it was produced by another node?\n\nNormally we only process messages from \"other\" instances, and we do not process messages produced by our own instance. But this is ProjectVersionRefUpdate, so it should only be processed for events produced by the current instance and not others.\n\nResolving.",
      "parentUuid": "e202a05c_731513c4",
      "range": {
        "startLine": 263,
        "startChar": 2,
        "endLine": 271,
        "endChar": 32
      },
      "revId": "fbf69cf75c37d85636550bbb610deb9eabf77ed9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}