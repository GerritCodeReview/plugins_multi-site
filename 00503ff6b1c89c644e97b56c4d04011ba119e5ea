{
  "comments": [
    {
      "key": {
        "uuid": "ed7cec38_74289cc9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-02-05T09:31:39Z",
      "side": 1,
      "message": "nit:Are we using this exception? Looks like gwt oriented?",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8a5b5a6_41139f63",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-05T09:46:23Z",
      "side": 1,
      "message": "Yes, it is catched at L68",
      "parentUuid": "ed7cec38_74289cc9",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77843be2_caafd36a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-02-05T09:49:16Z",
      "side": 1,
      "message": "As I said it\u0027s nit but I think we are not throwing it anywhere it\u0027s just a part of the interface. Anyway it should be done in separate change",
      "parentUuid": "a8a5b5a6_41139f63",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "630975ef_6288043b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-05T20:41:26Z",
      "side": 1,
      "message": "\u003e As I said it\u0027s nit but I think we are not throwing it anywhere it\u0027s just a part of the interface. Anyway it should be done in separate change\n\ngwtorm \u003c\u003e GWT  :-)\n\nGWTORM is an ORM written by Shawn to access ReviewDb across DBMS implementations.",
      "parentUuid": "77843be2_caafd36a",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f86fdc9c_31e82fe9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-02-05T09:30:37Z",
      "side": 1,
      "message": "Is there any other operation when indexing? It seems like the only operation we are passing when calling \"indexAsync\" is the INDEX operation.\n\nGiven the name of the method the operation parameter seems redundant.",
      "range": {
        "startLine": 60,
        "startChar": 53,
        "endLine": 60,
        "endChar": 72
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "587f9c5f_4c1d3e51",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-05T20:41:26Z",
      "side": 1,
      "message": "You can reindex or remove from the index.\nFor accounts, at the moment you cannot remove but only add.\n\nHowever, as the base class requires that parameter, I decided to keep it.",
      "parentUuid": "f86fdc9c_31e82fe9",
      "range": {
        "startLine": 60,
        "startChar": 53,
        "endLine": 60,
        "endChar": 72
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dd5ad4c3_d8512fe4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-02-05T09:30:37Z",
      "side": 1,
      "message": "Where is the \"flush\" happening?",
      "range": {
        "startLine": 64,
        "startChar": 42,
        "endLine": 64,
        "endChar": 47
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6b7c1cd_c91a87a3",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-05T20:41:26Z",
      "side": 1,
      "message": "True, the clear should go because the ones we failed to index should be kept in the map.",
      "parentUuid": "dd5ad4c3_d8512fe4",
      "range": {
        "startLine": 64,
        "startChar": 42,
        "endLine": 64,
        "endChar": 47
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4db721a9_b4c8ea56",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-02-05T09:30:37Z",
      "side": 1,
      "message": "We are clearing the whole map here, this implies to remove an account even if we failed to index it. Is that correct?",
      "range": {
        "startLine": 72,
        "startChar": 4,
        "endLine": 72,
        "endChar": 28
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fccf957_233e7500",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/forwarder/ForwardedIndexAccountHandler.java",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-05T20:41:26Z",
      "side": 1,
      "message": "That isn\u0027t right: if the reindex of an account fails (e.g. because the underlying object wasn\u0027t there or anything else), it should stay in the map.",
      "parentUuid": "4db721a9_b4c8ea56",
      "range": {
        "startLine": 72,
        "startChar": 4,
        "endLine": 72,
        "endChar": 28
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96c65bb5_55b7634e",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/kafka/consumer/StreamEventRouterTest.java",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-02-05T09:30:37Z",
      "side": 1,
      "message": "nit: Should we add a similar test to check the indexEventRouter has been triggered?",
      "range": {
        "startLine": 45,
        "startChar": 2,
        "endLine": 50,
        "endChar": 3
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3482bf9f_b06168fc",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/kafka/consumer/StreamEventRouterTest.java",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-05T20:41:26Z",
      "side": 1,
      "message": "Nope, it gets triggered ONLY if it is a replication event.\nThis is a comment-added event, and thus it should not be triggered.",
      "parentUuid": "96c65bb5_55b7634e",
      "range": {
        "startLine": 45,
        "startChar": 2,
        "endLine": 50,
        "endChar": 3
      },
      "revId": "00503ff6b1c89c644e97b56c4d04011ba119e5ea",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}