{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "82dc532b_c9c39d89",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 26
      },
      "lineNbr": 0,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "Nothing major, but i think some suggestions should be implemented before we merge this.",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9acc1dad_e70c3602",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2023-06-07T12:23:56Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f44b73a_60060b1c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 82,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "this can be final",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5a079f2_07d02791",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 166,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "I\u0027d argue that all this new logic should be extracted in a separate method (or rename this method to indicate what is actually doing)",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b2b1934_5942a399",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 167,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "Do we want to log at warning? Perhaps debug or trace level is more applicable, this could get noisy?",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ac72173_e1f0f66d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 168,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "```suggestion\n      String sanitizedProjectName \u003d SubscriberMetrics.sanitizeProjectName(projectName.get());\n```",
      "range": {
        "startLine": 168,
        "startChar": 13,
        "endLine": 168,
        "endChar": 33
      },
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "770465ad_f2fd32c7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 169,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "this is never tested, from experience i know this class is hard to mock, but you could create a class that extends the `DisabledMetricMaker` and keeps a count of this method invocation. It is a bit more effort, but looks like something we should have a test for, given the importance this metric might have.\n\nAlso, a separate comment. Will this attempt to recreate the metric every time the lag is above zero?",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcdc83d9_86d148b4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 169,
      "author": {
        "id": 1155610
      },
      "writtenOn": "2023-06-07T16:28:30Z",
      "side": 1,
      "message": "Regarding the testing, please see previous thread with Luca\u0027s explanation.\n\nI will need to double check on the second point.",
      "parentUuid": "770465ad_f2fd32c7",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bee0f753_b4953b3d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 170,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "what\u0027s the `%S` (2nd format specifier) used for? If it\u0027s the same as `%s`, then let\u0027s lowercase it for consistency",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7559838e_db1dd56a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/ReplicationStatus.java",
        "patchSetId": 26
      },
      "lineNbr": 170,
      "author": {
        "id": 1155610
      },
      "writtenOn": "2023-06-07T16:28:30Z",
      "side": 1,
      "message": "my bad, should be the same, good spot.",
      "parentUuid": "bee0f753_b4953b3d",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2018591_82a342a9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/SubscriberMetrics.java",
        "patchSetId": 26
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2023-06-07T12:23:56Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b614ce9d_2204f14b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/SubscriberMetrics.java",
        "patchSetId": 26
      },
      "lineNbr": 74,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "javadoc for this method would help here",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e18dce9_b6c6a082",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/SubscriberMetrics.java",
        "patchSetId": 26
      },
      "lineNbr": 76,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "this is a bit unorthodox, at least it feels it could be done in a simpler way, did you try a `String.replaceAll` with a regex?",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8078610b_6a75594b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/SubscriberMetrics.java",
        "patchSetId": 26
      },
      "lineNbr": 76,
      "author": {
        "id": 1155610
      },
      "writtenOn": "2023-06-07T16:28:30Z",
      "side": 1,
      "message": "As per previous comment, the problem here is that the replacement is not always the same string, but a function based on the character that we\u0027re replacing.\n\nCouldn\u0027t find a built in function in scala that did this, happy to stand corrected though.",
      "parentUuid": "6e18dce9_b6c6a082",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2037cc83_d6d98051",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/consumer/SubscriberMetricsTest.java",
        "patchSetId": 26
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2023-06-07T12:23:56Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df72671f_f986126b",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/consumer/SubscriberMetricsTest.java",
        "patchSetId": 26
      },
      "lineNbr": 207,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-06-07T16:14:18Z",
      "side": 1,
      "message": "I think you are missing test case where the name contains `-`",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3dc3c182_232b7751",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/multisite/consumer/SubscriberMetricsTest.java",
        "patchSetId": 26
      },
      "lineNbr": 207,
      "author": {
        "id": 1155610
      },
      "writtenOn": "2023-06-07T16:28:30Z",
      "side": 1,
      "message": "Don\u0027t think there\u0027s any logic to test there? Or better, if we test that we would also need to test every letter of the alphabet, lowercase and uppercase.\n\nI tried looking at property based testing with java, but not sure it\u0027s worth introducing only for this?",
      "parentUuid": "df72671f_f986126b",
      "revId": "15c07d250db3b4fc8a9e58ec6073fe93bb21adbc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}