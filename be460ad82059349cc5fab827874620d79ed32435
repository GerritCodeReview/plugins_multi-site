{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1ad3d67b_8167e3b6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-12-21T02:04:05Z",
      "side": 1,
      "message": "Not sure this is the correct solution: it looks to me that is working \"by mistake\" because of the replication delay. WDYT?",
      "revId": "be460ad82059349cc5fab827874620d79ed32435",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dae9af3e_eeeef593",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/IndexEventSubscriber.java",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-12-21T02:04:05Z",
      "side": 1,
      "message": "If the change has been deleted, how can we find it and get the associated project id? Would this work for now only because we receive the event *before* the replication may have happened?",
      "range": {
        "startLine": 64,
        "startChar": 8,
        "endLine": 64,
        "endChar": 93
      },
      "revId": "be460ad82059349cc5fab827874620d79ed32435",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4479010_59d4ed85",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/IndexEventSubscriber.java",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-12-21T13:08:51Z",
      "side": 1,
      "message": "Eeven if the replication has successfully completed, the change will still be in the index: removing it from the index is precisely the intent of _this_ subscriber\u0027s handler, so we should be sure the change is still sitting in the index .\n\nWe are using findOne() to find the change and, by looking at its implementation, the change is searched first in the cache and then in the *index*[1], not on disk, so that it will still be found on the receiving side, even after replication.\n\nWDYT? Do I have the wrong side of the stick?\n\n[1]https://gerrit.googlesource.com/gerrit/+/refs/heads/stable-3.4/java/com/google/gerrit/server/change/ChangeFinder.java#216",
      "parentUuid": "dae9af3e_eeeef593",
      "range": {
        "startLine": 64,
        "startChar": 8,
        "endLine": 64,
        "endChar": 93
      },
      "revId": "be460ad82059349cc5fab827874620d79ed32435",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34f6cf1c_cf24ad23",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/multisite/consumer/IndexEventSubscriber.java",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-12-30T21:16:29Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d4479010_59d4ed85",
      "range": {
        "startLine": 64,
        "startChar": 8,
        "endLine": 64,
        "endChar": 93
      },
      "revId": "be460ad82059349cc5fab827874620d79ed32435",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "expression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "status": "PASS",
        "errorMessage": {},
        "passingAtoms": [
          "label:Code-Review\u003dMAX,user\u003dnon_uploader"
        ],
        "failingAtoms": [
          "label:Code-Review\u003dMIN"
        ]
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "be460ad82059349cc5fab827874620d79ed32435",
      "legacy": {
        "value": false
      },
      "forced": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI result status for build and tests is passing"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {
          "expression": {
            "expressionString": "-branch:refs/meta/config"
          },
          "status": "PASS",
          "errorMessage": {},
          "passingAtoms": [],
          "failingAtoms": [
            "branch:refs/meta/config"
          ]
        }
      },
      "submittabilityExpressionResult": {
        "expression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "status": "PASS",
        "errorMessage": {},
        "passingAtoms": [
          "label:Verified\u003dMAX"
        ],
        "failingAtoms": [
          "label:Verified\u003dMIN"
        ]
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "be460ad82059349cc5fab827874620d79ed32435",
      "legacy": {
        "value": false
      },
      "forced": {}
    }
  ]
}